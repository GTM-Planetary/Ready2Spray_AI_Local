{
  "query": "CREATE TABLE IF NOT EXISTS integration_entity_mappings (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  connection_id INT NOT NULL,\n  entity_type ENUM('customer', 'job', 'personnel', 'site') NOT NULL,\n  ready2spray_id INT NOT NULL,\n  external_id VARCHAR(255) NOT NULL,\n  last_synced_at DATETIME,\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  \n  FOREIGN KEY (connection_id) REFERENCES integration_connections(id) ON DELETE CASCADE,\n  UNIQUE KEY unique_r2s_mapping (connection_id, entity_type, ready2spray_id),\n  UNIQUE KEY unique_external_mapping (connection_id, entity_type, external_id),\n  INDEX idx_ready2spray (entity_type, ready2spray_id),\n  INDEX idx_external (entity_type, external_id)\n)",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3LAnvSXMR8umuBe.cb88ed38e99c --database 6adCeCxV2Yg38ygq7gdRsu --execute CREATE TABLE IF NOT EXISTS integration_entity_mappings (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  connection_id INT NOT NULL,\n  entity_type ENUM('customer', 'job', 'personnel', 'site') NOT NULL,\n  ready2spray_id INT NOT NULL,\n  external_id VARCHAR(255) NOT NULL,\n  last_synced_at DATETIME,\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  \n  FOREIGN KEY (connection_id) REFERENCES integration_connections(id) ON DELETE CASCADE,\n  UNIQUE KEY unique_r2s_mapping (connection_id, entity_type, ready2spray_id),\n  UNIQUE KEY unique_external_mapping (connection_id, entity_type, external_id),\n  INDEX idx_ready2spray (entity_type, ready2spray_id),\n  INDEX idx_external (entity_type, external_id)\n)",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 307
}